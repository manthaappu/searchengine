<html> <head> <title>Doctrine (PHP)</title></head><body>See also [[DataEase]], whose query language is also called DQL.

{{Infobox Software
| logo                   = [[Image:Doctrine logo white.png]]
| name                   = Doctrine
| latest release version = 2.0
| latest release date    = {{release_date|2010|12|22}}
| operating_system       = [[Cross-platform]]
| programming language   = [[PHP]]
| status                 = Active
| genre                  = [[Object-relational mapping]] framework
| license                = [[GNU Lesser General Public License]]
| website                = [http://www.doctrine-project.org www.doctrine-project.org]
}}
'''Doctrine''' is an [[Object-relational mapping|object-relational mapper]] (ORM) for [[PHP]] 5.2.3+ that sits on top of a [[DBAL|database abstraction layer]]. It allows easy access to all types of databases, such as [[MySQL]], through the use of PHP [[Object (computer science)|objects]].

==Usage demonstration==
Doctrine follows the [[active record pattern]] for working with data, where a [[Class (computer science)|class]] corresponds with a [[Table (database)|database table]]. For instance, if a programmer wanted to create a new "User" object in a database, he/she would no longer need to write [[SQL]] queries, but instead could use the following PHP code:
<source lang="php">
 $user = new User();
 $user->name = "john";
 $user->password = "doe";
 $user->save();
 echo "The user with id $user->id has been saved.";
</source>
Object-related functionality can be added to the objects themselves, instead of being spread around the application. This can improve the ease of maintenance of the software project.

==Features==
[[Image:doctrine-layers.jpg|thumb|250px|[[Media:doctrine-layers.jpg|Overview of Doctrine]]]]One feature of Doctrine is the low level of configuration that is needed to start a project. Doctrine can generate object classes from an existing database, and the programmer can then specify relations and add custom functionality to the generated classes. There is no need to generate or maintain complex [[XML]] database schemas, as seen in many other frameworks.

Another key feature of Doctrine is the ability to optionally write database queries in an OO ([[Object-oriented programming|object oriented]]) SQL dialect called '''DQL''' (Doctrine Query Language) inspired by [[Hibernate (Java)|Hibernate's]] [[Hibernate Query Language|HQL]]. Alternately, the <tt>Doctrine_Query</tt> class allows one to construct queries through a [[fluent interface]]. These interfaces provide developers with powerful alternatives to SQL which maintain flexibility and still allow for switching of database back-ends, without requiring any code duplication. 

Writing queries explicitly however is not always necessary, as Doctrine performs [[Join (SQL)|joins]] and fetches related objects automatically. Small projects can be easily constructed without writing queries.

Other notable features of Doctrine are:
* support for hierarchical ([[tree structure|tree-structured]]) data;
* support for hooks (methods which can validate or modify database input and output) and event listeners to structure business-related logic;
* column aggregation inheritance (similar objects can be stored in one database table, with one type-column specifying the subtype of the particular object - the correct subclass is always returned when a query is done);
* a caching framework, making use of several backends such as [[memcached]], [[SQLite]] or [[Alternative PHP Cache|APC]];
* [[ACID]] transactions;
* model behaviors (sluggable, timestampable, nested set, internationalization, audit log, search index);
* database migrations;
* a "compile" function to combine many PHP files of the framework into one, to avoid the performance hit usually incurred by including the many PHP files of a framework.

==History==
Doctrine was started by [[Konsta Vesterinen]], also known as ''zYne-''. The project's initial commit was made on April 13, 2006 to the svn repository.<ref>http://trac.doctrine-project.org/browser?rev=1</ref> As the project became more mature, the adoption began to pick up. Before long, the community was active and development was receiving regular contributions, among others from the [[Google Summer of Code]] project.

Doctrine 1.0.0 was released on September 1, 2008.<ref>[http://www.doctrine-project.org/blog/doctrine-1-0-released Doctrine 1.0.0 released]</ref>

The first stable version of Doctrine 2.0 was released on December 22, 2010, after 2.5 years of dedicated development starting in early 2008.<ref>[http://www.doctrine-project.org/blog/doctrine2-released]</ref>

== Influences ==
Doctrine has been influenced by dozens of projects and many different people. The largest influences have been the [[Java (programming language)|Java]] ORM [[Hibernate (Java)|Hibernate]] and [[ActiveRecord (Rails)|ActiveRecord]] from [[Ruby on Rails]]. Both of these ORM solutions have implemented a fully featured solution in the Java and [[Ruby (programming language)|Ruby]] languages. The purpose of the Doctrine project is to build an equally powerful solution for the PHP language.

==Community==
* There is an active [[IRC]] channel where users and developers of Doctrine commonly associate. The channel is on the [[freenode]] network (irc.freenode.net); the channel name is <tt>#doctrine</tt>. irc://irc.freenode.net/#doctrine
* User mailing list: http://groups.google.com/group/doctrine-user
* Development mailing list: http://groups.google.com/group/doctrine-dev
* Commit log mailing list: http://groups.google.com/group/doctrine-svn

==See also==
* [[Propel (PHP)]]
* [[List of object-relational mapping software]]
* [[Symfony]], a [[web application framework]] which uses Doctrine by default

==References==
{{Reflist}}

==External links==
* [http://www.doctrine-project.org/ Doctrine homepage]
* [http://www.doctrine-project.org/documentation Doctrine Documentation]
* [http://trac.doctrine-project.org/ Doctrine Trac]
* [http://www.doctrine-project.org/about About Doctrine]
* [http://www.doctrine-project.org/download Download Doctrine]
* [http://www.doctrine-project.org/community Doctrine Community]
* [http://www.doctrine-project.org/blog Official Doctrine Blog]

{{DEFAULTSORT:Doctrine (Php)}}
[[Category:PHP programming language]]
[[Category:PHP libraries]]
[[Category:Object-relational mapping]]

[[de:Doctrine (PHP)]]
[[fr:Doctrine (ORM)]]
[[pl:Doctrine]]
[[ru:Doctrine]]</body> </html>