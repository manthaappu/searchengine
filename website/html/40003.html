<html> <head> <title>Weighted fair queuing</title></head><body>'''Weighted fair queuing''' (WFQ) is a [[data packet]] [[scheduling (computing)|scheduling]] technique allowing different scheduling priorities to [[statistical multiplexing|statistically multiplexed]] data [[Flow (computer networking)|flows]]. 

WFQ is a generalization of [[fair queuing]] (FQ). Both in WFQ and FQ, each data flow has a separate [[FIFO]] queue. In FQ, with a link data rate of <math>R</math>, at any given time the <math>N</math> active data flows (the ones with non-empty queues) are serviced simultaneously, each at an average data rate of <math>R/N</math>. Since each data flow has its own queue, an ill-behaved flow (who has sent larger packets or more packets per second than the others since it became active) will only punish itself and not other sessions. 

Contrary to FQ, WFQ allows different sessions to have different service shares. If <math>N</math> data flows currently are active, with weights <math>w_1, w_2 ... w_N,</math> data flow number <math>i</math> will achieve an average data rate of 

<math>\frac{Rw_i}{(w_1+w_2+...+w_N)}</math>
 
It can be proven <ref>{{cite journal |title=Latency-rate servers: a general model for analysis of traffic scheduling algorithms |  author=Stiliadis, D. and Varma, A. |journal=IEEE/ACM Transactions on Networking (TON) | volume=6 | issue=5 | pages=611–624 | date=1998 |  publisher=IEEE Press Piscataway, NJ, USA |doi=10.1109/90.731196}}</ref> that when using a network with WFQ switches and a data flow that is [[leaky bucket]] constrained, an end-to-end delay bound can be guaranteed. By regulating the WFQ weights dynamically, WFQ can be utilized for controlling the [[quality of service]], for example to achieve guaranteed data rate. 

[[Proportional fairness]] can be achieved by setting the weights to <math>w_i=1/c_i</math>, where <math>c_i</math> is the cost per data bit of data flow <math>i</math>. For example in [[CDMA]] spread spectrum cellular networks, the cost may be the required energy (the interference level), and in [[channel allocation schemes|dynamic channel allocation]] systems, the cost may be the number of nearby base station sites that can not use the same frequency channel, in view to avoid co-channel interference. 
   
== References ==
{{reflist}}

== See also ==
* [[Statistical multiplexing]]
* Computing [[scheduling disciplines]]
* [[Scheduling algorithm]]
* [[Deficit round robin]]
* [[Weighted round robin]]
* [[Fair Queuing]] 
* [[Max-min fairness]]
* [[Proportional fairness]]

[[Category:Scheduling algorithms]]
[[Category:Routing algorithms]]

[[de:Weighted-Fair-Queuing]]
[[es:Espera Equitativa Ponderada]]
[[ru:Честная очередь с весовыми коэффициентами]]</body> </html>