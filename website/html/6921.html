<html> <head> <title>Combination</title></head><body>{{Redirect|Combin|the mountain massif|Grand Combin}}
{{Other uses}}
In [[mathematics]] a '''combination''' is a way of selecting several things out of a larger group, where (unlike [[permutations]]) order does not matter. In smaller cases it is possible to count the number of combinations. For example given three fruit, an apple, orange and pear say, there are three combinations of two that can be drawn from this set: an apple and a pear; an apple and an orange; or a pear and an orange. 
More formally a ''k''-'''combination''' of a set ''S'' is a subset of ''k'' distinct elements of ''S''. If the set has ''n'' elements the number of ''k''-combinations is equal to the [[binomial coefficient]]
:<math> \binom nk = \frac{n(n-1)\ldots(n-k+1)}{k(k-1)\dots1},</math>
which can be written using [[factorial]]s as <math>\frac{n!}{k!(n-k)!}</math> whenever <math>k\leq n</math>, and which is zero when <math>k>n</math>.
The set of all ''k''-combinations of a set ''S'' is sometimes denoted by
:<math>\binom Sk\,</math>.

Combinations can consider the combination of ''n'' things taken ''k'' at a time without or with repetitions.<ref>Erwin Kreyszig, ''Advanced Engineering Mathematics'', John Wiley & Sons, INC, 1999</ref> In the above example repetitions were not allowed. If however it was possible to have two of any one kind of fruit there would be 3 more combinations: one with two apples, one with two oranges, and one with two pears.

With large sets, it becomes necessary to use mathematics to find the number of combinations. For example, a [[Hand (poker)|poker hand]] can be described as a 5-combination (''k'' = 5) of cards from a 52 card deck (''n'' = 52). The 5 cards of the hand are all distinct, and the order of cards in the hand does not matter. There are 2,598,960 such combinations, and the chance of drawing any one hand at random is 1 / 2,598,960.

== Number of ''k''-combinations ==

{{main|Binomial coefficient}}
The number of ''k''-combinations from a given set ''S'' of ''n'' elements is often denoted in elementary combinatorics texts by ''C''(''n'', ''k''), or by a variation such as <math>C^n_k</math>,  <math>{}_nC_k</math>, <math>{}^nC_k</math> or even <math>C_n^k</math> (the latter form is standard in French and Polish texts).  The same number however occurs in many other mathematical contexts, where it is denoted by <math>\tbinom nk</math>; notably it occurs as coefficient in the [[binomial formula]], hence its name '''binomial coefficient'''. One can define <math>\tbinom nk</math> for all natural numbers ''k'' at once by the relation

:<math>\textstyle(1+X)^n=\sum_{k\geq0}\binom nk X^k,</math>

from which it is clear that <math>\tbinom n0=\tbinom nn=1</math> and <math>\tbinom nk=0</math> for ''k'' > ''n''. To see that these coefficients count ''k''-combinations from ''S'', one can first consider a collection of ''n'' distinct variables ''X''<sub>''s''</sub> labeled by the elements ''s'' of ''S'', and expand the [[Multiplication|product]] over all elements of ''S'':

:<math>\textstyle\prod_{s\in S}(1+X_s);</math>

it has 2<sup>''n''</sup> distinct terms corresponding to all the subsets of ''S'', each subset giving the product of the corresponding variables ''X''<sub>''s''</sub>. Now setting all of the ''X''<sub>''s''</sub> equal to the unlabeled variable ''X'', so that the product becomes {{nowrap|(1 + ''X'')<sup>''n''</sup>}}, the term for each ''k''-combination from ''S'' becomes ''X''<sup>''k''</sup>, so that that the coefficient of that power in the result equals the number of such ''k''-combinations.

Binomial coefficients can be computed explicitly in various ways. To get all of them for the expansions up to {{nowrap|(1 + ''X'')<sup>''n''</sup>}}, one can use (in addition to the basic cases already given) the recursion relation

:<math>\binom nk=\binom{n-1}{k-1}+\binom{n-1}k,\text{ for }0<k<n,</math>

which follows from {{nowrap|(1 + ''X'')<sup>''n''</sup> }}={{nowrap| (1 + ''X'')<sup>''n'' − 1</sup>(1 + ''X'')}}; this leads to the construction of [[Pascal's triangle]].

For determining an individual binomial coefficient, it is more practical to use the formula

:<math>\binom nk = \frac{n^{\underline k}}{k!} = \frac{n(n-1)(n-2)\cdots(n-k+1)}{k(k-1)(k-2)\cdots 1}.</math>

In this formula the [[numerator]] gives the number of ''k''-[[permutations]] of ''n'', i.e., of sequences of ''k'' distinct elements of ''S'', while the [[denominator]] gives the number of such ''k''-[[permutations]] that give the same ''k''-combination when the order is ignored.

When ''k'' exceeds ''n''/2, the above formula contains factors common to the numerator and the denominator, and canceling them out gives the relation

:<math> \binom nk = \binom n{n-k},\text{ for }0 \le k \le n.</math>

This expresses a symmetry that is evident from the binomial formula, and can also be understood in terms of ''k''-combinations by taking the [[complement (set theory)|complement]] of such a combination, which is an {{nowrap|(''n'' − ''k'')}}-combination.

Finally there is a formula which exhibits this symmetry directly, and has the merit of being easy to remember:

:<math> \binom nk = \frac{n!}{k!(n-k)!},</math>

where ''n''<nowiki>!</nowiki> denotes the [[factorial]] of ''n''. It is obtained from the previous formula by multiplying denominator and numerator by {{nowrap|(''n'' − ''k'')}}!, so it is certainly inferior as a method of computation to that formula.

The last formula can be understood directly, by considering the ''n''<nowiki>!</nowiki> permutations of all the elements of ''S''. Each such permutation gives a ''k''-combination by selecting its first ''k'' elements. There are many duplicate selections: any combined permutation of the first ''k'' elements among each other, and of the final (''n'' &minus; ''k'') elements among each other produces the same combination; this explains the division in the formula.

From the above formulas follow relations between adjacent numbers in Pascal's triangle in all three directions:

:<math> \binom nk = \binom n{k-1} \frac {n-k+1}k,\text{ for }k>0 </math>,

:<math> \binom nk = \binom {n-1}k \frac n{n-k},\text{ for }{k<n} </math>,

:<math> \binom nk = \binom {n-1}{k-1} \frac nk,\text{ for }n,k>0 </math>.

Together with the basic cases <math>\tbinom n0=1=\tbinom nn</math>, these allow successive computation of respectively all numbers of combinations from the same set (a row in Pascal's triangle), of ''k''-combinations of sets of growing sizes, and of combinations with a complement of fixed size {{nowrap|''n'' − ''k''}}.

=== Example of counting combinations ===

As a concrete example, one can compute the number of five-card hands possible from a standard fifty-two card deck as:

:<math> {52 \choose 5} = \frac{52!}{5!47!} = \frac{52\times51\times50\times49\times48}{5\times4\times3\times2\times1} = \frac{311,875,200}{120} = 2,598,960.</math>

An alternative, almost equivalent computation, is

:<math> {n \choose k} = \frac { ( n - 0 ) }{ (k - 0) } \times \frac { ( n - 1 ) }{ (k - 1) } \times \frac { ( n - 2 ) }{ (k - 2) } \times \frac { ( n - 3 ) }{ (k - 3) } \times \cdots \times \frac { ( n - (k - 1) ) }{ (k - (k - 1)) },</math>

which gives

:<math> {52 \choose 5} = \frac { 52 }{ 5 } \times \frac { 51 }{ 4 } \times \frac { 50 }{ 3 } \times \frac { 49 }{ 2 } \times \frac { 48 }{ 1 } = 2,598,960.</math>

Using the symmetric formula in terms of factorials gives

:<math>
\begin{align}
 {52 \choose 5} &= \frac{n!}{k!(n-k)!} = \frac{52!}{5!(52-5)!} = \frac{52!}{5!47!} \\
&= \tfrac{80,658,175,170,943,878,571,660,636,856,403,766,975,289,505,440,883,277,824,000,000,000,000}{120\times258,623,241,511,168,180,642,964,355,153,611,979,969,197,632,389,120,000,000,000} \\
&= 2,598,960.
\end{align}</math>

== Number of combinations with repetition ==
{{See also|multiset coefficient}}

A ''k''-'''combination with repetitions''', or ''k''-'''multicombination''', or '''multiset''' of size ''k'' from a set ''S'' is given by a sequence of ''k'' not necessarily distinct elements of ''S'', where order is not taken into account: two sequences of which one can be obtained from the other by permuting the terms define the same multiset. If ''S'' has ''n'' elements, the number of such ''k''-multicombinations is also given by a [[binomial coefficient]], namely by

:<math>\binom{n + k - 1}{k} = \binom{n + k - 1}{n - 1}</math>

(the case where both ''n'' and ''k'' are zero is special; the correct value 1 (for the empty 0-multicombination) is given by left hand side <math>\tbinom{-1}0</math>, but not by the right hand side <math>\tbinom{-1}{-1}</math>).

=== Example of counting multicombinations ===

For example, if you have ten types of donuts (''n'' = 10) on a menu to choose from and you want three donuts (''k'' = 3), the number of ways to choose can be calculated as

:<math>\binom{10+3-1}3 = \binom{12}3 = \frac{12\times11\times10}{3\times2\times1} = 220.</math>

The analogy with the ''k''-combination case can be stressed by writing the binomial coefficient using a [[rising factorial power]]

:<math>\binom{n + k - 1}{k} = \frac{n^{(k)}}{k!} = \frac{n(n+1)\cdots(n+k-1)}{k(k-1)\cdots1}.</math>

There is an easy way to understand the above result. Label the elements of ''S'' with numbers 0, 1, ..., {{nowrap|''n'' − 1}}, and choose a ''k''-combination from the set of numbers { 1, 2, ..., {{nowrap|''n'' + ''k'' − 1}} } (so that there are {{nowrap|''n'' − 1}} ''unchosen'' numbers). Now change this ''k''-combination into a ''k''-multicombination of ''S'' by replacing every (chosen) number ''x'' in the ''k''-combination by the element of ''S'' labeled by the ''number of unchosen numbers'' less than ''x''. This is always a number in the range of the labels, and it is easy to see that every ''k''-multicombination of ''S'' is obtained for one choice of a ''k''-combination.

A concrete example may be helpful. Suppose there are 4 types of fruits (apple, orange, pear, banana) at a grocery store, and you want to buy 12 pieces of fruit. So ''n'' = 4 and ''k'' = 12. Use label 0 for apples, 1 for oranges, 2 for pears, and 3 for bananas. A selection of 12 fruits can be translated into a selection of 12 distinct numbers in the range 1,...,15 by selecting as many consecutive numbers starting from 1 as there are apples in the selection, then skip a number, continue choosing as many consecutive numbers as there are oranges selected, again skip a number, then again for pears, skip one again, and finally choose the remaining numbers (as many as there are bananas selected). For instance for 2 apples, 7 oranges, 0 pears and 3 bananas, the numbers chosen will be 1, 2, 4, 5, 6, 7, 8, 9, 10, 13, 14, 15. To recover the fruits, the numbers 1, 2 (not preceded by any unchosen numbers) are replaced by apples, the numbers 4, 5, ..., 10 (preceded by one unchosen number: 3) by oranges, and the numbers 13, 14, 15 (preceded by three unchosen numbers: 3, 11, and 12) by bananas; there are no chosen numbers preceded by exactly 2 unchosen numbers, and therefore no pears in the selection.
The total number of possible selections is

:<math>\binom{12+4-1}{12} = \binom{15}{12} = \binom{15}3 = \frac{15\times14\times13}{3\times2\times1} = 455. </math>

== Number of ''k''-combinations for all k ==
{{See also|Binomial coefficient#Sum of coefficients row}}

The number of ''k''-combinations for all ''k'', <math>\sum_{0\leq{k}\leq{n}}\binom nk = 2^n</math>, is the sum of the ''n''th row (counting from 0) of the [[Binomial coefficient#Sum of coefficients row|binomial coefficients]]. These combinations are enumerated by the 1 digits of the set of [[base 2]] numbers counting from 0 to <math>2^n - 1</math>, where each digit position is an item from the set of ''n''.

==See also==
{{colbegin|colwidth=30em}}
* [[Combinatorial number system]]
* [[Combinatorics]]
* [[Multiset]]
* [[Binomial coefficient]]
* [[Permutation]]
* [[List of permutation topics]]
* [[Subset]]
* [[Probability]]
* [[Pascal's Triangle]]
{{colend}}

==References==
{{Reflist}}

==External links==
* [http://compprog.wordpress.com/2007/10/17/generating-combinations-1/ C code to generate all combinations of n elements chosen as k]
* [http://mathforum.org/library/drmath/sets/high_perms_combs.html Many Common types of permutation and combination math problems, with detailed solutions]
* [http://www.murderousmaths.co.uk/books/unknownform.htm The Unknown Formula] For combinations when choices can be repeated and order does NOT matter
*[http://www.nitte.ac.in/userfiles/file/Combinations%20with%20Repetitions.pdf] Combinations with repetitions (by: Akshatha AG and Smitha B)

[[Category:Combinatorics]]

[[ar:توافيق]]
[[bg:Комбинация (математика)]]
[[cs:Kombinace]]
[[eo:Kombinaĵo (kombinatoriko)]]
[[fa:ترکیب (ریاضی)]]
[[fr:Combinaison (mathématiques)]]
[[ko:조합]]
[[hy:Ընտրույթ]]
[[hi:संचय (गणित)]]
[[id:Kombinasi]]
[[it:Combinazione]]
[[lv:Kombinācija]]
[[lt:Deriniai]]
[[hu:Kombináció]]
[[nl:Combinatie (wiskunde)]]
[[ja:組合せ (数学)]]
[[pl:Kombinacja bez powtórzeń]]
[[pt:Combinação (matemática)]]
[[ru:Сочетание]]
[[sq:Kombinimi]]
[[sk:Kombinácia (kombinatorika)]]
[[sl:Kombinacija (matematika)]]
[[sr:Комбинација]]
[[fi:Kombinaatio]]
[[sv:Kombination (matematik)]]
[[ta:சேர்வு (கணிதம்)]]
[[th:การจัดหมู่]]
[[tr:Kombinasyon]]
[[uk:Комбінації з n по k]]
[[ur:تولیف]]
[[zh:組合]]</body> </html>