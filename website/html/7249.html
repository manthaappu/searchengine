<html> <head> <title>Compensating transaction</title></head><body>{{Unreferenced|date=November 2006}}

The execution of a business process consists of one or more [[Transaction processing|transactions]]. Each transaction may consist of several individual operations yet, as a whole, it moves the system between consistent states. In the context of a [[database]] this is often easily achieved using [[Database transaction|transactions]] and the [[Commit (data management)|commit]]/[[Rollback (data management)|rollback]] mechanism. 

For systems without a [[Commit (data management)|commit]]/[[Rollback (data management)|rollback]] mechanism available, one can undo a failed transaction with a '''compensating transaction''', which will bring the system back to its initial state. Typically, this is only a ''workaround'' which has to be implemented manually and cannot guarantee that the system always ends in a consistent state. The system designer may need to consider what happens if the compensating transaction also fails.

'''Compensating transactions''' are also used in case where a transaction is long lived (commonly called [[Long-running transaction|Saga Transactions]]), for instance in a business process requiring user input. In such cases data will be committed to permanent storage, but may subsequently need to be rolled back, perhaps due to the user opting to cancel the operation. Unlike conventional rollbacks, specific business logic will typically be required to rollback a long lived transaction and restore the system to its original state. This type of transaction differs from [[distributed transaction]]s (often implemented using the [[two-phase-commit protocol]]), because although both types of transactions can result in multiple data stores being updated, '''compensating transactions''' allows for the updates to span a long period of time.

'''Compensating transactions''' are often designed into [[Web service]]s that participate in the execution of business processes that are part of a [[service-oriented architecture]] solution.

==See also==
*[[Commit (data management)]]
*[[Business Process Execution Language]]

{{DEFAULTSORT:Compensating Transaction}}
[[Category:Data synchronization]]
[[Category:Transaction processing]]


{{Comp-stub}}</body> </html>