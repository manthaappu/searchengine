<html> <head> <title>Surface normal</title></head><body>{{Redirect|Normal vector|a normalized vector, or vector of length one|unit vector}}
[[Image:Normal vectors2.svg|thumb|right|A polygon and two of its normal vectors]]
[[Image:Surface normal illustration.png|right|thumb|A normal to a surface at a point is the same as a normal to the tangent plane to that surface at that point.]]
A '''surface normal''', or simply '''normal''', to a [[Flatness|flat surface]] is a [[vector (geometry)|vector]] that is [[perpendicular]] to that surface. A normal to a non-flat surface at a [[point (geometry)|point]] ''P'' on the surface is a vector perpendicular to the [[Tangent space|tangent plane]] to that surface at ''P''. The word "normal" is also used as an adjective: a [[line (geometry)|line]] normal to a [[plane (geometry)|plane]], the normal component of a [[force]], the '''normal vector''', etc. The concept of '''normality''' generalizes to [[orthogonality]].

In the two-dimensional case, a '''normal line''' perpendicularly intersects the [[tangent line]] to a curve at a given point.

The '''normal''' is often used in [[computer graphics]] to determine a surface's orientation toward a light source for [[flat shading]], or the orientation of each of the corners ([[vertex (geometry)|vertices]]) to mimic a curved surface with [[Phong shading]].

==Calculating a surface normal==

For a [[Convex set|convex]] [[polygon]] (such as a [[triangle (geometry)|triangle]]), a surface normal can be calculated as the vector [[cross product]] of two (non-parallel) edges of the polygon.

For a [[Plane (mathematics)|plane]] given by the equation <math>ax+by+cz+d=0</math>, the vector <math>(a, b, c)</math> is a normal. For a plane given by the equation '''r''' = '''a''' + α'''b''' + β'''c''', where '''a''' is a vector to get onto the plane and '''b''' and '''c''' are non-parallel vectors lying on the plane, the normal to the plane defined is given by '''b''' &times; '''c''' (the cross product of the vectors lying on the plane).

For a [[hyperplane]] in ''n''+1 dimensions, given by the equation '''r''' = '''a'''<sub>0</sub> + α<sub>1</sub>'''a'''<sub>1</sub>  + α<sub>2</sub>'''a'''<sub>2</sub>  + ... + α<sub>''n''</sub>'''a'''<sub>''n''</sub>, where '''a'''<sub>0</sub> is a vector to get onto the hyperplane and '''a'''<sub>''i''</sub> for ''i'' = 1, ... , ''n'' are non-parallel vectors lying on the hyperplane, the (unscaled) normal to the hyperplane can be approximated by
<math>(AA^T + bb^T)^{-1} b</math>
where '''A''' = ['''a'''<sub>''1''</sub>, '''a'''<sub>''2''</sub>, ... , '''a'''<sub>''n''</sub>] and '''b''' is an arbitrary vector in the space ''not'' in the linear span of '''a'''<sub>''i''</sub>.

If a (possibly non-flat) surface ''S'' is [[Coordinate system|parameterized]] by a system of [[curvilinear coordinates]] '''x'''(''s'', ''t''), with ''s'' and ''t'' [[real number|real]] variables, then a normal is given by the cross product of the [[partial derivative]]s 
:<math>{\partial \mathbf{x} \over \partial s}\times {\partial \mathbf{x} \over \partial t}.</math>

If a surface ''S'' is given [[Implicit function|implicitly]] as the set of points <math>(x, y, z)</math> satisfying  <math>F(x, y, z)=0</math>, then, a normal at a point <math>(x, y, z)</math> on the surface is given by the [[gradient]]
:<math>\nabla F(x, y, z).</math>
since [[Level set#Level sets versus the gradient|the gradient at any point is perpendicular to the level set]], and <math>F(x, y, z)=0</math> (the surface) is a level set of <math>F</math>.

For a surface ''S'' given [[Explicit function|explicitly]] as a [[Function (mathematics)|function]] <math>f(x, y)</math> of the independent variables <math>x, y</math> (e.g., <math>f(x, y) = a_{00} + a_{01} y + a_{10} x + a_{11} x y</math>), its normal can be found in at least two equivalent ways.
The first one is obtaining its implicit form <math>F(x, y, z) = z - f(x,y) = 0</math>, from which the normal follows readily as the [[gradient]] <math>\nabla F(x, y, z)</math>. (Notice that the implicit form could be defined alternatively as <math>F(x, y, z) = f(x,y) - z</math>; these two forms correspond to the interpretation of the surface being [[Orientability|oriented]] upwards or downwards, respectively, as a consequence of the difference in the sign of the partial derivative <math>\partial{F}/\partial{z}</math>.)
The second way of obtaining the normal follows directly from the gradient of the explicit form, <math>\nabla f(x, y)</math>; it is apparent from inspection that <math>\nabla F(x, y, z) = \hat{\mathbf{k}} - \nabla f(x, y)</math>, where <math>\hat{\mathbf{k}}</math> is the upward [[unit vector]].

If a surface does not have a tangent plane at a point, it does not have a normal at that point either. For example, a [[cone (geometry)|cone]] does not have a normal at its tip nor does it have a normal along the edge of its base.  However, the normal to the cone is defined [[almost everywhere]]. In general, it is possible to define a normal almost everywhere for a surface that is [[Lipschitz continuous]].

==Hypersurfaces in ''n''-dimensional space==

The definition of a normal to a surface in three-dimensional space can be extended to <math>n-1</math>-dimensional [[hypersurface]]s in a <math>n</math>-dimensional space. A ''hypersurface'' may be [[Local_property|locally]] defined implicitly as the set of points <math>\scriptstyle(x_1, x_2, \ldots, x_n)</math> satisfying an equation <math>\scriptstyle F(x_1, x_2, \ldots x_n) = 0</math>, where <math>F</math> is a given [[Scalar field|scalar function]]. If <math>F</math> is [[continuously differentiable]], then the hypersurface obtained is a [[differentiable manifold]], and its hypersurface normal can be obtained from the [[gradient]] of <math>F</math>, in the case it is not null, by the following formula
:<math>\nabla F(x_1, x_2, \ldots, x_n) = \left( \tfrac{\partial F}{\partial x_1}, \tfrac{\partial F}{\partial x_2}, \ldots, \tfrac{\partial F}{\partial x_n} \right)</math>

==Uniqueness of the normal==
[[Image:Surface normal.png|right|thumb|300px|A vector field of normals to a surface]]
A normal to a surface does not have a unique direction; the vector pointing in the opposite direction of a surface normal is also a surface normal. For a surface which is the [[boundary (topology)|topological boundary]] of a set in three dimensions, one can distinguish between the '''inward-pointing normal''' and '''outer-pointing normal''', which can help define the normal in a unique way. For an [[Orientability|oriented surface]], the surface normal is usually determined by the [[right-hand rule]].  If the normal is constructed as the cross product of tangent vectors (as described in the text above), it is a [[pseudovector]].

==Transforming normals==
When applying a transform to a surface it is sometimes convenient to deriving normals for the
resulting surface from the original normals. All points ''P'' on tangent plane are transformed
to ''P&prime;''. We want to find '''n&prime;''' perpendicular to ''P''. Let '''t''' be a vector on the tangent plane and ''M<sub>l</sub>'' be the upper 3x3 matrix (translation part of transformation does not apply to normal or tangent vectors).
:<math>t' = M_l \times t</math>
:<math>n^T \times t = n^T \times M_l^{-1} M_l \times t</math>
:<math>n^T \times t = n^T \times M_l^{-1} M_l \times t = (M_l^{-1T} \times n)^T (M_l \times t)</math>
:<math>n^T \times t = (M_l^{-1T} \times n)^T \times t'</math>
:<math>n' = M_l^{-1T} \times n</math>
So use the inverse transpose of the linear transformation (the upper 3x3 matrix) when transforming surface normals.

==Uses==

*Surface normals are essential in defining [[surface integral]]s of [[vector field]]s.
*Surface normals are commonly used in [[3D computer graphics]] for [[lighting]] calculations; see [[Lambert's cosine law]].
*Surface normals are often adjusted in [[3D computer graphics]] by [[normal mapping]].
*[[Render layers]] containing surface normal information may be used in [[Digital compositing]] to change the apparent lighting of rendered elements.

==Normal in geometric optics==
{{main|Specular reflection}}
[[Image:Reflection angles.svg|frame|Diagram of specular reflection]]

The '''normal''' is an imaginary line [[perpendicular]] to the surface<ref>{{cite web
|url= http://www.glenbrook.k12.il.us/gbssci/phys/Class/refln/u13l1c.html
|title= The Law of Reflection
|accessdate=2008-03-31
|work= The Physics Classroom Tutorial
}}</ref> of an [[optical medium]]. The word normal is used here in the mathematical sense, meaning perpendicular. In [[reflection of light]], the [[angle of incidence]] is the angle between the normal and the [[incident ray]]. The [[angle of reflection]] is the angle between the normal and the [[reflected ray]].

==See also==
* [[Pseudovector]]
* [[Dual space]]

==References== 

{{reflist}}

==External links==
* An [http://msdn.microsoft.com/en-us/library/bb324491(VS.85).aspx explanation of normal vectors] from Microsoft's MSDN
* Clear pseudocode for [http://www.opengl.org/wiki/Calculating_a_Surface_Normal calculating a surface normal] from either a triangle or polygon.
* Some [http://www.shakeartist.com/shaketools/ instructional videos and a free tool] for performing normals-based relighting.


[[Category:Surfaces]]
[[Category:Vector calculus]]
[[Category:3D computer graphics]]

[[ar:ناظم السطح]]
[[be-x-old:Нармаль]]
[[bs:Površinska normala]]
[[cs:Normála]]
[[da:Normalvektor]]
[[de:Normalenvektor]]
[[et:Normaal]]
[[eo:Surfaca normalo]]
[[fr:Normale à une surface]]
[[hr:Normala]]
[[it:Normale (superficie)]]
[[ht:Nòmal (dyagram reyon)]]
[[nl:Normaalvector]]
[[ja:法線ベクトル]]
[[no:Normalvektor]]
[[pl:Wektor normalny]]
[[pt:Vetor normal]]
[[ru:Нормаль]]
[[fi:Normaali (matematiikka)]]
[[sv:Normalvektor]]
[[th:แนวฉาก]]
[[zh:法线]]</body> </html>